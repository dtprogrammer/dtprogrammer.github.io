
<head>

<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
<title>130. Surrounded Regions</title>
<link rel="shortcut icon" href="../favicon.png">
<meta name="description" content="">
    
<meta name="twitter:site" content="">

<meta name="twitter:creator" content="">

<meta name="google-site-verification" content="">

<meta property="fb:admins" content="">	 
<link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic&amp;subset=latin-ext,latin" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../assets/css/style.css?v=499d3c15ff">
<link rel="stylesheet" type="text/css" href="../assets/css/font-awesome.min.css?v=499d3c15ff">
<link rel="stylesheet" type="text/css" href="../assets/css/animation.css?v=499d3c15ff">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">     
<link rel="shortcut icon" href="../favicon.png" type="image/png">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://localhost:2368/130-surrounded-regions/amp/">
    
    <meta property="og:site_name" content="Software Interview Preparation Blog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="130. Surrounded Regions">
    <meta property="og:description" content="Question Given a 2D board containing 'X' and 'O' (the letter O), capture all regions surrounded by 'X'. A region is captured by flipping all 'O's into 'X's in that surrounded region. For example, X X X X X O O X X X O X X O X X">
    <meta property="og:url" content="http://localhost:2368/130-surrounded-regions/">
    <meta property="article:published_time" content="2017-09-13T07:25:54.000Z">
    <meta property="article:modified_time" content="2017-09-13T07:25:54.000Z">
    <meta property="article:tag" content="leetcode">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="130. Surrounded Regions">
    <meta name="twitter:description" content="Question Given a 2D board containing 'X' and 'O' (the letter O), capture all regions surrounded by 'X'. A region is captured by flipping all 'O's into 'X's in that surrounded region. For example, X X X X X O O X X X O X X O X X">
    <meta name="twitter:url" content="http://localhost:2368/130-surrounded-regions/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Duct Tape Programmer">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="leetcode">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Software Interview Preparation Blog",
        "logo": "http://localhost:2368/content/images/2017/09/publication_logo.png"
    },
    "author": {
        "@type": "Person",
        "name": "Duct Tape Programmer",
        "url": "http://localhost:2368/author/duct/",
        "sameAs": []
    },
    "headline": "130. Surrounded Regions",
    "url": "http://localhost:2368/130-surrounded-regions/",
    "datePublished": "2017-09-13T07:25:54.000Z",
    "dateModified": "2017-09-13T07:25:54.000Z",
    "keywords": "leetcode",
    "description": "Question Given a 2D board containing &#x27;X&#x27; and &#x27;O&#x27; (the letter O), capture all regions surrounded by &#x27;X&#x27;. A region is captured by flipping all &#x27;O&#x27;s into &#x27;X&#x27;s in that surrounded region. For example, X X X X X O O X X X O X X O X X",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <script type="text/javascript" src="../public/ghost-sdk.js?v=499d3c15ff"></script>
<script type="text/javascript">
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "9f8a9b723d67"
});
</script>
    <meta name="generator" content="Ghost 1.8">
    <link rel="alternate" type="application/rss+xml" title="Software Interview Preparation Blog" href="../rss/index.html">
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-106385900-1'); // Paste your Google Analytics ID here.
    ga('send', 'pageview');
</script>    
</head>

<body class="post-template tag-leetcode">
 

<header role="banner" class="site-head_digitus wrapper_digitus fade_digitus">
        <a class="logo_digitus" href="../"><img src="../content/images/2017/09/publication_logo.png" alt="Software Interview Preparation Blog"></a>
    <h1 class="blogtitle_digitus">
        <a title="Software Interview Preparation Blog" href="../">
            Software Interview Preparation Blog
        </a>
    </h1>
</header>


<main class="wrapper_digitus" role="main">
    
	
    <article class="article_digitus">
	
		<header class="postheader_digitus">
            <h1 class="posttitle_digitus">130. Surrounded Regions</h1>
            <span>by</span><h4 class="authorname_digitus"><a href="../author/duct.24">Duct Tape Programmer</a></h4>
            <hr class="pause">
			<ul>
				<li><i class="fa fa-calendar"></i><time class="date_digitus">Wednesday 13 Sep 2017</time></li>
                <li><i class="fa fa-comments"></i><a class="comments_digitus" href="index.html#disqus_thread" data-disqus-identifier="59b8da5a301d231e36fc8fe7">Comments</a></li>
				<li><i class="fa fa-tag"></i><span class="posttags_digitus"><a href="../tag/leetcode/">leetcode</a></span></li>
			</ul>
		</header>
	
		<div class="postcontent_digitus">
			<div class="kg-card-markdown"><h3 id="question"><a href="https://leetcode.com/problems/surrounded-regions/description/">Question</a></h3>
<p>Given a 2D board containing 'X' and 'O' (the letter O), capture all regions surrounded by 'X'.</p>
<p>A region is captured by flipping all 'O's into 'X's in that surrounded region.</p>
<p>For example,<br>
X X X X<br>
X O O X<br>
X X O X<br>
X O X X<br>
After running your function, the board should be:</p>
<p>X X X X<br>
X X X X<br>
X X X X<br>
X O X X</p>
<h3 id="solution">Solution</h3>
<p>I was able to think of the solution since I have seen this problem long back. The trick here is to notice is that if any of the boundary (left, right, up, down) has <code>O</code> then that will remain <code>0</code> as it has an open surrounding. Now this <code>O</code> will cause other <code>O</code> to remain <code>O</code>.</p>
<p>So overall the idea is:</p>
<ol>
<li>For all <code>O</code> present in boundaries and its connected <code>O</code> mark it with some other character. Here we choose <code>*</code> as we know for certain they will remain <code>O</code>.</li>
<li>Now everything else can marked <code>X</code></li>
<li>Switch <code>*</code> back to <code>O</code></li>
</ol>
<p>My initial solution was as below</p>
<pre><code>public class Solution {
    public void solve(char[][] board) {
        // flip all 0 from borders to *
        if (board != null &amp;&amp; board.length != 0) {
            // mark from all boundaries
            // top
            markFromBorder(board, 0, 1, 0, board[0].length);
            // bottom
            markFromBorder(board, board.length - 1, board.length, 0, board[board.length - 1].length);
            // left
            markFromBorder(board, 0, board.length, 0, 1);
            // right
            markFromBorder(board, 0, board.length, board[0].length - 1, board[0].length);
            // now mark all remaining O to X
            replaceInMatrix(board, 'O', 'X');
            replaceInMatrix(board, '*', 'O');
        }
    }

    private void replaceInMatrix(char[][] board, Character charToReplace, Character replacingChar) {
        for (int i = 0; i &lt; board.length; i++) {
            for (int j = 0; j &lt; board[i].length; j++) {
                if (board[i][j] == charToReplace) {
                    board[i][j] = replacingChar;
                }
            }
        }
    }

    private void markFromBorder(char[][] board, int rowStart, int rowEnd, int colStart, int colEnd) {
        for (int i = rowStart; i &lt; rowEnd; i++) {
            for (int j = colStart; j &lt; colEnd; j++) {
                markWithNeighbors(board, i, j);
            }
        }
    }

    private void markWithNeighbors(char[][] board, int row, int col) {
        // base case
        if (row &lt; 0 || row &gt;= board.length || col &lt; 0 || col &gt;= board[row].length) {
            return;
        }
        if (board[row][col] == 'O') {
            // mark
            board[row][col] = '*';
            // handle neighbors
            markWithNeighbors(board, row + 1, col);
            markWithNeighbors(board, row - 1, col);
            markWithNeighbors(board, row, col + 1);
            markWithNeighbors(board, row, col - 1);
        }
    }
}
</code></pre>
<p>Although this did work for most test case it failed for one of the test cases with stack overflow. Apparently, for one of the test case leetcode checks the number of the recursive call made to be under a limit. The solution is a DFS method where the max depth of recurses should be the size of matrix i.e. N. Since, my solution makes more recursive call it failed. Later, I was able to modify my solution to make less recursive call with the help of this <a href="https://discuss.leetcode.com/topic/17224/a-really-simple-and-readable-c-solution-only-cost-12ms/18">post</a>.</p>
<script src="https://gist-it.appspot.com/github/dtprogrammer/leetcode-solutions/blob/master/src/main/java/dtprogrammer/github/io/p130/Solution.java"></script>
<h3 id="timecomplexity">Time complexity</h3>
<p>The time complexity is O (N * N)</p>
<h3 id="spacecomplexity">Space complexity</h3>
<p>Constant. Although since we are using recursive approach the solution does take some space in the recursion stack.</p>
<h3 id="notes">Notes</h3>
<ul>
<li>Recurse only for <code>O</code></li>
<li>Recurse only if the range is valid</li>
</ul>
</div>
		</div>
	
		<ol class="share_digitus">
            <li>
                <span>Share:</span>
                <ul class="share-ikons_digitus">
                    <li><a class="fa fa-twitter-square" target="_blank" href="http://twitter.com/share?text=130.%20Surrounded%20Regions&amp;url=http://localhost:2368/130-surrounded-regions/"><span class="hidden_digitus">Twitter</span></a></li>
                    <li><a class="fa fa-facebook-square" target="_blank" href="http://www.facebook.com/sharer.php?u=http://localhost:2368/130-surrounded-regions/"><span class="hidden_digitus">Facebook</span></a></li>
                    <li><a class="fa fa-google-plus-square" target="_blank" href="https://plus.google.com/share?url=http://localhost:2368/130-surrounded-regions/"><span class="hidden_digitus">Google+</span></a></li>
                </ul>
            </li>
            <li class="back_digitus"><a href="index.html"><i class="fa fa-level-up"></i><span>Back to top</span></a></li>
		</ol>
	
    
     <footer class="postfooter_digitus">
         
            <span class="posttags_typesome"> <a href="../tag/leetcode/">leetcode</a></span>
            <hr class="pause">
        
         <address>
         
                </address><ul>
				    <li><h4 class="authorname_digitus"><a href="../author/duct.24">Duct Tape Programmer</a></h4></li>
                    <li><p class="authorbio_digitus"></p></li>
				    <li>  
                    </li>
				</ul>
             
		</footer>
	
	</article>
	
	
	<div id="disqus_thread" class="disqusbox_digitus">
        
    <script type="text/javascript">
        
        var disqus_shortname = 'software-interview-preparation-blog'; // required: replace example with your Disqus shortname
        var disqus_identifier = '';
        
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
</div>
	
	
</main>
<footer class="footer_digitus">
	<ul>
        <li>
            <span class="tooltip_digitus">Subscribe!</span>
            <a href="../rss/index.rss" target="_blank">
                <span class="fa fa-stack">
                    <i class="fa fa-stop fa-stack-2x"></i>
                    <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </li>

        <li>
            <span class="tooltip_digitus">Contact</span>
            <a href="mailto:ducttapeprogrammer@gmail.com">
            <span class="fa fa-stack">
                <i class="fa fa-stop fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </li>

        <li>
            <span class="tooltip_digitus">GitHub</span>
            <a href="https://github.com/dtprogrammer">
            <span class="fa fa-stack">
                <i class="fa fa-stop fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </li>
	</ul>
    
		<p>All content copyright <a href="../">Software Interview Preparation Blog</a> © 2017 • All rights reserved. <br>
		  Theme created by <a href="http://golem.io">golem.io</a> • Proudly published with <a class="icon-ghost" href="http://tryghost.org" target="_blank">Ghost</a></p>
</footer>


    
<script type="text/javascript">
    
    var disqus_shortname = 'software-interview-preparation-blog'; // required: replace example with your Disqus shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

<script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=499d3c15ff"></script>
<script type="text/javascript" src="../assets/js/index.js?v=499d3c15ff"></script>
    
</body>
